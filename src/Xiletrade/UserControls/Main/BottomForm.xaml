<UserControl x:Class="Xiletrade.UserControls.Main.BottomForm"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             xmlns:i="http://schemas.microsoft.com/xaml/behaviors"
             xmlns:t="clr-namespace:Xiletrade.Library.ViewModels.Main;assembly=Xiletrade.Library"
             xmlns:ext="clr-namespace:Xiletrade.Util.Extensions"
             xmlns:sys="clr-namespace:System;assembly=mscorlib"
             xmlns:local="clr-namespace:Xiletrade.UserControls.Main"
             mc:Ignorable="d" 
             d:DesignHeight="92" d:DesignWidth="510"
             d:DataContext="{d:DesignInstance Type=t:MainViewModel}" d:Background="{StaticResource LightBg}">
    <UserControl.Resources>
        
    </UserControl.Resources>
    <Grid>
        <Border x:Name="borderSettings" Margin="0,0,0,0" HorizontalAlignment="Left" VerticalAlignment="Top" d:BorderThickness="1" BorderBrush="{StaticResource DarkBg}" Height="87" Width="260" Visibility="{Binding Form.Visible.PanelForm, Converter={StaticResource bool2VisibilityConverter}}">
            <Border.Style>
                <Style TargetType="{x:Type Border}">
                    <Setter Property="BorderThickness" Value="1,1,1,1" />
                    <Style.Triggers>
                        <DataTrigger Binding="{Binding Form.Panel.UseBorderThickness}" Value="false">
                            <Setter Property="BorderThickness" Value="0,0,0,0" />
                        </DataTrigger>
                    </Style.Triggers>
                </Style>
            </Border.Style>
            <ScrollViewer FlowDirection="RightToLeft" Background="{x:Null}" Margin="0,0,0,0" VerticalScrollBarVisibility="Auto"  Height="85" Width="258">
                <Grid x:Name="gridRow" FlowDirection="LeftToRight">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="42"/>
                        <RowDefinition x:Name="rowArmour" Height="43" MaxHeight="{Binding Form.Panel.Row.ShowArmour, Mode=TwoWay, Converter={StaticResource getRowDefinitionConverter}}"/>
                        <RowDefinition x:Name="rowWeapon" Height="43" MaxHeight="{Binding Form.Panel.Row.ShowWeapon, Mode=TwoWay, Converter={StaticResource getRowDefinitionConverter}}"/>
                        <RowDefinition x:Name="rowTotal" Height="43" MaxHeight="{Binding Form.Panel.Row.ShowTotal, Mode=TwoWay, Converter={StaticResource getRowDefinitionConverter}}"/>
                    </Grid.RowDefinitions>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition x:Name="colScroll" Width="14" MaxWidth="{Binding Form.Panel.ShowScroll, Mode=TwoWay, Converter={StaticResource getColFirstDefinitionConverter}}"/>
                        <ColumnDefinition Width="79"/>
                        <ColumnDefinition Width="79"/>
                        <ColumnDefinition x:Name="colLast" Width="86" MinWidth="{Binding Form.Panel.ShowScroll, Mode=TwoWay, Converter={StaticResource getColLastDefinitionConverter}}"/>
                    </Grid.ColumnDefinitions>
                    <Border BorderThickness="0,0,0,0" BorderBrush="{StaticResource DarkBg}" Grid.ColumnSpan="4" Grid.Row="0" />
                    <Border x:Name="borderRow1" BorderThickness="0,1,0,0" BorderBrush="{StaticResource DarkBg}" Grid.ColumnSpan="4" Grid.Row="1"/>
                    <Border x:Name="borderRow2" BorderThickness="0,1,0,0" BorderBrush="{StaticResource DarkBg}" Grid.ColumnSpan="4" Grid.Row="2"/>
                    <Border x:Name="borderRow3" BorderThickness="0,1,0,0" BorderBrush="{StaticResource DarkBg}" Grid.ColumnSpan="4" Grid.Row="3"/>
                    
                    <Grid x:Name="panelLevel" VerticalAlignment="Top" HorizontalAlignment="Left" Grid.Row="0" Grid.Column="1">
                        <CheckBox Width="94" Margin="7,3,0,0" Style="{StaticResource checkBoxStat}" IsChecked="{Binding Form.Panel.Common.ItemLevel.Selected}" ToolTip="{ext:Localization Main065_tbiLevel}" d:IsChecked="True"/>
                        <TextBox Margin="5,16,0,0" Style="{StaticResource tbStatMin}" Text="{Binding Form.Panel.Common.ItemLevel.Min, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" IsEnabled="{Binding Form.Panel.Common.ItemLevel.Selected}"/>
                        <TextBox Margin="40,16,0,0" Style="{StaticResource tbStatMax}" Text="{Binding Form.Panel.Common.ItemLevel.Max, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" IsEnabled="{Binding Form.Panel.Common.ItemLevel.Selected}"/>
                    </Grid>

                    <Grid x:Name="panelQuality" HorizontalAlignment="Left" VerticalAlignment="Top" Grid.Row="0" Grid.Column="2" Visibility="{Binding Form.Visible.Quality, Converter={StaticResource bool2VisibilityConverter}}">
                        <CheckBox Margin="7,3,0,0" Style="{StaticResource checkBoxStat}" IsChecked="{Binding Form.Panel.Common.Quality.Selected}" ToolTip="{ext:Localization Main066_tbQuality}"/>
                        <TextBox Margin="5,16,0,0" Style="{StaticResource tbStatMin}" Text="{Binding Form.Panel.Common.Quality.Min, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" IsEnabled="{Binding Form.Panel.Common.Quality.Selected}"/>
                        <TextBox Margin="40,16,0,0" Style="{StaticResource tbStatMax}" Text="{Binding Form.Panel.Common.Quality.Max, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" IsEnabled="{Binding Form.Panel.Common.Quality.Selected}"/>
                    </Grid>

                    <!-- HIDDEN PARTS-->
                    <Grid x:Name="panelResolve" HorizontalAlignment="Left" VerticalAlignment="Top" Grid.Row="0" Grid.Column="2" Visibility="{Binding Form.Visible.SanctumFields, Converter={StaticResource bool2VisibilityConverter}}">
                        <CheckBox Margin="7,3,0,0" Style="{StaticResource checkBoxStat}" IsChecked="{Binding Form.Panel.Sanctum.Resolve.Selected}" ToolTip="{ext:Localization General114_SanctumResolve}"/>
                        <TextBox Margin="5,16,0,0" Style="{StaticResource tbStatMin}" Text="{Binding Form.Panel.Sanctum.Resolve.Min, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" IsEnabled="{Binding Form.Panel.Sanctum.Resolve.Selected}"/>
                        <TextBox Margin="40,16,0,0" Style="{StaticResource tbStatMax}" Text="{Binding Form.Panel.Sanctum.Resolve.Max, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" IsEnabled="{Binding Form.Panel.Sanctum.Resolve.Selected}"/>
                    </Grid>
                    <Grid x:Name="panelMaxResolve" HorizontalAlignment="Left" VerticalAlignment="Top" Grid.Row="0" Grid.Column="3" Visibility="{Binding Form.Visible.SanctumFields, Converter={StaticResource bool2VisibilityConverter}}">
                        <CheckBox Margin="7,3,0,0" Style="{StaticResource checkBoxStat}" IsChecked="{Binding Form.Panel.Sanctum.MaximumResolve.Selected}" ToolTip="{ext:Localization General124_SanctumMaxResolve}"/>
                        <TextBox Margin="5,16,0,0" Style="{StaticResource tbStatMin}" Text="{Binding Form.Panel.Sanctum.MaximumResolve.Min, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" IsEnabled="{Binding Form.Panel.Sanctum.MaximumResolve.Selected}"/>
                        <TextBox Margin="40,16,0,0" Style="{StaticResource tbStatMax}" Text="{Binding Form.Panel.Sanctum.MaximumResolve.Max, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" IsEnabled="{Binding Form.Panel.Sanctum.MaximumResolve.Selected}"/>
                    </Grid>

                    <Grid x:Name="panelRuneSocket" HorizontalAlignment="Left" VerticalAlignment="Top" Grid.Row="0" Grid.Column="3" Visibility="{Binding Form.Visible.RuneSockets, Converter={StaticResource bool2VisibilityConverter}}">
                        <CheckBox Margin="7,3,0,0" Style="{StaticResource checkBoxStat}" IsChecked="{Binding Form.Panel.Common.RuneSockets.Selected}" ToolTip="{ext:Localization Main228_tbRuneSocketsTip}"/>
                        <TextBox Margin="5,16,0,0" Style="{StaticResource tbStatMin}" Text="{Binding Form.Panel.Common.RuneSockets.Min, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" IsEnabled="{Binding Form.Panel.Common.RuneSockets.Selected}"/>
                        <TextBox Margin="40,16,0,0" Style="{StaticResource tbStatMax}" Text="{Binding Form.Panel.Common.RuneSockets.Max, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" IsEnabled="{Binding Form.Panel.Common.RuneSockets.Selected}"/>
                    </Grid>

                    <!-- HIDDEN PARTS-->
                    <Grid x:Name="panelHiddable" HorizontalAlignment="Left" VerticalAlignment="Top" Grid.Row="0" Grid.Column="3" d:Opacity="0" d:Panel.ZIndex="-1" Visibility="{Binding Form.Visible.HiddablePanel, Converter={StaticResource bool2VisibilityConverter}}">
                        <CheckBox x:Name="SynthesisBlight" Margin="0,3,0,0" Width="104" Style="{StaticResource checkBoxStat}" IsChecked="{Binding Form.Panel.SynthesisBlight}" ToolTip="{Binding Form.Panel.SynthesisBlightLabel}" Visibility="{Binding Form.Visible.SynthesisBlight, Converter={StaticResource bool2VisibilityConverter}}"/>
                        <CheckBox x:Name="BlightRavaged" Margin="0,16,0,0" Width="104" Style="{StaticResource checkBoxStat}" IsChecked="{Binding Form.Panel.BlighRavaged}" ToolTip="{Binding Form.Panel.BlighRavagedtLabel}" Visibility="{Binding Form.Visible.BlightRavaged, Converter={StaticResource bool2VisibilityConverter}}"/>
                    </Grid>

                    <Grid x:Name="panelSockets" Height="42" Width="86" HorizontalAlignment="Left" VerticalAlignment="Top" Grid.Row="0" Grid.Column="3" Visibility="{Binding Form.Visible.Sockets, Converter={StaticResource bool2VisibilityConverter}}">
                        <CheckBox Margin="0,3,0,0" Style="{StaticResource checkBoxStat}" IsChecked="{Binding Form.Panel.Common.Sockets.Selected}" ToolTip="{ext:Localization Main067_tbSockets}"/>
                        <TextBlock Text="-" HorizontalAlignment="Left" Margin="40,20,0,0" VerticalAlignment="Top" TextAlignment="Center" Width="5" Visibility="Visible" FontFamily="{StaticResource FontinSmallCaps}"/>
                        <TextBox x:Name="tbSocketMin" HorizontalAlignment="Left" Height="22" Margin="5,16,0,0" d:Text="" VerticalAlignment="Top" TextAlignment="Center" Width="16" Tag="textbox" Visibility="Visible" FontFamily="Arial" IsEnabled="{Binding Form.Panel.Common.Sockets.Selected}" Grid.Row="0" Text="{Binding Form.Panel.Common.Sockets.SocketMin, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"/>
                        <TextBox x:Name="tbSocketMax" HorizontalAlignment="Left" Height="22" Margin="22,16,0,0" d:Text="" VerticalAlignment="Top" TextAlignment="Center" Width="16" Tag="textbox" Visibility="Visible" FontFamily="Arial" IsEnabled="{Binding Form.Panel.Common.Sockets.Selected}" Grid.Row="0" Text="{Binding Form.Panel.Common.Sockets.SocketMax, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"/>
                        <TextBox x:Name="tbLinksMin" HorizontalAlignment="Left" Height="22" Margin="45,16,0,0" d:Text="" VerticalAlignment="Top" TextAlignment="Center" Width="16" Tag="textbox" Visibility="Visible" FontFamily="Arial" IsEnabled="{Binding Form.Panel.Common.Sockets.Selected}" Grid.Row="0" Text="{Binding Form.Panel.Common.Sockets.LinkMin, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"/>
                        <TextBox x:Name="tbLinksMax" HorizontalAlignment="Left" Height="22" Margin="64,16,0,0" d:Text="" VerticalAlignment="Top" TextAlignment="Center" Width="16" Tag="textbox" Visibility="Visible" FontFamily="Arial" IsEnabled="{Binding Form.Panel.Common.Sockets.Selected}" Grid.Row="0" Text="{Binding Form.Panel.Common.Sockets.LinkMax, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"/>
                    </Grid>

                    <!-- WARD PARTS-->
                    <Grid x:Name="panelWard" HorizontalAlignment="Left" VerticalAlignment="Top" Grid.Row="1" Grid.Column="1" d:Opacity="0" d:Panel.ZIndex="-1" Visibility="{Binding Form.Visible.Ward, Converter={StaticResource bool2VisibilityConverter}}">
                        <CheckBox Margin="7,4,0,0" Style="{StaticResource checkBoxStat}" IsChecked="{Binding Form.Panel.Defense.Ward.Selected}" ToolTip="{ext:Localization General095_Ward}"/>
                        <TextBox Margin="5,17,0,0" Style="{StaticResource tbStatMin}" Text="{Binding Form.Panel.Defense.Ward.Min, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" IsEnabled="{Binding Form.Panel.Defense.Ward.Selected}"/>
                        <TextBox Margin="40,17,0,0" Style="{StaticResource tbStatMax}" Text="{Binding Form.Panel.Defense.Ward.Max, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" IsEnabled="{Binding Form.Panel.Defense.Ward.Selected}"/>
                    </Grid>

                    <!-- ARMOUR PARTS-->
                    <Grid x:Name="panelArmour" HorizontalAlignment="Left" VerticalAlignment="Top" Grid.Row="1" Grid.Column="1" Visibility="{Binding Form.Visible.Armour, Converter={StaticResource bool2VisibilityConverter}}">
                        <CheckBox Margin="7,4,0,0" Style="{StaticResource checkBoxStat}" IsChecked="{Binding Form.Panel.Defense.Armour.Selected}" ToolTip="{ext:Localization Main068_tbArmour}"/>
                        <TextBox Margin="5,17,0,0" Style="{StaticResource tbStatMin}" Text="{Binding Form.Panel.Defense.Armour.Min, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" IsEnabled="{Binding Form.Panel.Defense.Armour.Selected}"/>
                        <TextBox Margin="40,17,0,0" Style="{StaticResource tbStatMax}" Text="{Binding Form.Panel.Defense.Armour.Max, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" IsEnabled="{Binding Form.Panel.Defense.Armour.Selected}"/>
                    </Grid>

                    <!-- HIDDEN PART -->
                    <Grid x:Name="panelInspiration" HorizontalAlignment="Left" VerticalAlignment="Top" Grid.Row="1" Grid.Column="1" Visibility="{Binding Form.Visible.SanctumFields, Converter={StaticResource bool2VisibilityConverter}}">
                        <CheckBox Margin="7,4,0,0" Style="{StaticResource checkBoxStat}" IsChecked="{Binding Form.Panel.Sanctum.Inspiration.Selected}" ToolTip="{ext:Localization General115_SanctumInspiration}"/>
                        <TextBox Margin="5,17,0,0" Style="{StaticResource tbStatMin}" Text="{Binding Form.Panel.Sanctum.Inspiration.Min, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" IsEnabled="{Binding Form.Panel.Sanctum.Inspiration.Selected}"/>
                        <TextBox Margin="40,17,0,0" Style="{StaticResource tbStatMax}" Text="{Binding Form.Panel.Sanctum.Inspiration.Max, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" IsEnabled="{Binding Form.Panel.Sanctum.Inspiration.Selected}"/>
                    </Grid>

                    <!-- HIDDEN PART -->
                    <Grid x:Name="panelMapQuantity" HorizontalAlignment="Left" VerticalAlignment="Top" Grid.Row="1" Grid.Column="1" Visibility="{Binding Form.Visible.MapStats, Converter={StaticResource bool2VisibilityConverter}}">
                        <CheckBox Margin="7,4,0,0" Style="{StaticResource checkBoxStat}" IsChecked="{Binding Form.Panel.Map.Quantity.Selected}" ToolTip="{ext:Localization General133_Iiq}"/>
                        <TextBox Margin="5,17,0,0" Style="{StaticResource tbStatMin}" Text="{Binding Form.Panel.Map.Quantity.Min, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" IsEnabled="{Binding Form.Panel.Map.Quantity.Selected}"/>
                        <TextBox Margin="40,17,0,0" Style="{StaticResource tbStatMax}" Text="{Binding Form.Panel.Map.Quantity.Max, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" IsEnabled="{Binding Form.Panel.Map.Quantity.Selected}"/>
                    </Grid>

                    <Grid x:Name="panelEnergy" HorizontalAlignment="Left" VerticalAlignment="Top" Grid.Row="1" Grid.Column="2" Visibility="{Binding Form.Visible.Energy, Converter={StaticResource bool2VisibilityConverter}}">
                        <CheckBox Margin="7,4,0,0" Style="{StaticResource checkBoxStat}" IsChecked="{Binding Form.Panel.Defense.Energy.Selected}" ToolTip="{ext:Localization Main069_tbEnergy}"/>
                        <TextBox Margin="5,17,0,0" Style="{StaticResource tbStatMin}" Text="{Binding Form.Panel.Defense.Energy.Min, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" IsEnabled="{Binding Form.Panel.Defense.Energy.Selected}"/>
                        <TextBox Margin="40,17,0,0" Style="{StaticResource tbStatMax}" Text="{Binding Form.Panel.Defense.Energy.Max, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" IsEnabled="{Binding Form.Panel.Defense.Energy.Selected}"/>
                    </Grid>

                    <!-- HIDDEN PART -->
                    <Grid x:Name="panelAureus" HorizontalAlignment="Left" VerticalAlignment="Top" Grid.Row="1" Grid.Column="2" Visibility="{Binding Form.Visible.SanctumFields, Converter={StaticResource bool2VisibilityConverter}}">
                        <CheckBox Margin="7,4,0,0" Style="{StaticResource checkBoxStat}" IsChecked="{Binding Form.Panel.Sanctum.Aureus.Selected}" ToolTip="{ext:Localization General116_SanctumAureus}"/>
                        <TextBox Margin="5,17,0,0" Style="{StaticResource tbStatMin}" Text="{Binding Form.Panel.Sanctum.Aureus.Min, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" IsEnabled="{Binding Form.Panel.Sanctum.Aureus.Selected}"/>
                        <TextBox Margin="40,17,0,0" Style="{StaticResource tbStatMax}" Text="{Binding Form.Panel.Sanctum.Aureus.Max, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" IsEnabled="{Binding Form.Panel.Sanctum.Aureus.Selected}"/>
                    </Grid>

                    <!-- HIDDEN PART -->
                    <Grid x:Name="panelMapRarity" HorizontalAlignment="Left" VerticalAlignment="Top" Grid.Row="1" Grid.Column="2" Visibility="{Binding Form.Visible.MapStats, Converter={StaticResource bool2VisibilityConverter}}">
                        <CheckBox Margin="7,4,0,0" Style="{StaticResource checkBoxStat}" IsChecked="{Binding Form.Panel.Map.Rarity.Selected}" ToolTip="{ext:Localization General134_Iir}"/>
                        <TextBox Margin="5,17,0,0" Style="{StaticResource tbStatMin}" Text="{Binding Form.Panel.Map.Rarity.Min, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" IsEnabled="{Binding Form.Panel.Map.Rarity.Selected}"/>
                        <TextBox Margin="40,17,0,0" Style="{StaticResource tbStatMax}" Text="{Binding Form.Panel.Map.Rarity.Max, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" IsEnabled="{Binding Form.Panel.Map.Rarity.Selected}"/>
                    </Grid>

                    <Grid x:Name="panelEvasion" HorizontalAlignment="Left" VerticalAlignment="Top" Grid.Row="1" Grid.Column="3" Visibility="{Binding Form.Visible.Evasion, Converter={StaticResource bool2VisibilityConverter}}">
                        <CheckBox Margin="7,4,0,0" Style="{StaticResource checkBoxStat}" IsChecked="{Binding Form.Panel.Defense.Evasion.Selected}" ToolTip="{ext:Localization Main070_tbEvasion}"/>
                        <TextBox Margin="5,17,0,0" Style="{StaticResource tbStatMin}" Text="{Binding Form.Panel.Defense.Evasion.Min, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" IsEnabled="{Binding Form.Panel.Defense.Evasion.Selected}"/>
                        <TextBox Margin="40,17,0,0" Style="{StaticResource tbStatMax}" Text="{Binding Form.Panel.Defense.Evasion.Max, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" IsEnabled="{Binding Form.Panel.Defense.Evasion.Selected}"/>
                    </Grid>

                    <!-- HIDDEN PARTS-->
                    <Grid x:Name="panelMapPackSize" HorizontalAlignment="Left" VerticalAlignment="Top" Grid.Row="1" Grid.Column="3" Visibility="{Binding Form.Visible.MapStats, Converter={StaticResource bool2VisibilityConverter}}">
                        <CheckBox Margin="7,4,0,0" Style="{StaticResource checkBoxStat}" IsChecked="{Binding Form.Panel.Map.PackSize.Selected}" ToolTip="{ext:Localization General135_PackSize}"/>
                        <TextBox Margin="5,17,0,0" Style="{StaticResource tbStatMin}" Text="{Binding Form.Panel.Map.PackSize.Min, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" IsEnabled="{Binding Form.Panel.Map.PackSize.Selected}"/>
                        <TextBox Margin="40,17,0,0" Style="{StaticResource tbStatMax}" Text="{Binding Form.Panel.Map.PackSize.Max, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" IsEnabled="{Binding Form.Panel.Map.PackSize.Selected}"/>
                    </Grid>

                    <!-- HIDDEN PARTS-->
                    <Grid x:Name="panelMapScarab" HorizontalAlignment="Left" VerticalAlignment="Top" Grid.Row="2" Grid.Column="1" Visibility="{Binding Form.Visible.MapStats, Converter={StaticResource bool2VisibilityConverter}}">
                        <CheckBox Margin="7,4,0,0" Style="{StaticResource checkBoxStat}" IsChecked="{Binding Form.Panel.Map.MoreScarab.Selected}" ToolTip="{ext:Localization General140_MoreScarabs}"/>
                        <TextBox Margin="5,17,0,0" Style="{StaticResource tbStatMin}" Text="{Binding Form.Panel.Map.MoreScarab.Min, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" IsEnabled="{Binding Form.Panel.Map.MoreScarab.Selected}"/>
                        <TextBox Margin="40,17,0,0" Style="{StaticResource tbStatMax}" Text="{Binding Form.Panel.Map.MoreScarab.Max, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" IsEnabled="{Binding Form.Panel.Map.MoreScarab.Selected}"/>
                    </Grid>

                    <!-- HIDDEN PARTS-->
                    <Grid x:Name="panelMoreCurrency" HorizontalAlignment="Left" VerticalAlignment="Top" Grid.Row="2" Grid.Column="2" Visibility="{Binding Form.Visible.MapStats, Converter={StaticResource bool2VisibilityConverter}}">
                        <CheckBox Margin="7,4,0,0" Style="{StaticResource checkBoxStat}" IsChecked="{Binding Form.Panel.Map.MoreCurrency.Selected}" ToolTip="{ext:Localization General139_MoreCurrency}"/>
                        <TextBox Margin="5,17,0,0" Style="{StaticResource tbStatMin}" Text="{Binding Form.Panel.Map.MoreCurrency.Min, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" IsEnabled="{Binding Form.Panel.Map.MoreCurrency.Selected}"/>
                        <TextBox Margin="40,17,0,0" Style="{StaticResource tbStatMax}" Text="{Binding Form.Panel.Map.MoreCurrency.Max, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" IsEnabled="{Binding Form.Panel.Map.MoreCurrency.Selected}"/>
                    </Grid>

                    <!-- HIDDEN PARTS-->
                    <Grid x:Name="panelMoreDivCard" HorizontalAlignment="Left" VerticalAlignment="Top" Grid.Row="2" Grid.Column="3" Visibility="{Binding Form.Visible.MapStats, Converter={StaticResource bool2VisibilityConverter}}">
                        <CheckBox Margin="7,4,0,0" Style="{StaticResource checkBoxStat}" IsChecked="{Binding Form.Panel.Map.MoreDivCard.Selected}" ToolTip="{ext:Localization General142_MoreDivinationCards}"/>
                        <TextBox Margin="5,17,0,0" Style="{StaticResource tbStatMin}" Text="{Binding Form.Panel.Map.MoreDivCard.Min, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" IsEnabled="{Binding Form.Panel.Map.MoreDivCard.Selected}"/>
                        <TextBox Margin="40,17,0,0" Style="{StaticResource tbStatMax}" Text="{Binding Form.Panel.Map.MoreDivCard.Max, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" IsEnabled="{Binding Form.Panel.Map.MoreDivCard.Selected}"/>
                    </Grid>

                    <!-- WEAPON PARTS-->
                    <Grid x:Name="panelDpsTotal" HorizontalAlignment="Left" VerticalAlignment="Top" Grid.Row="2" Grid.Column="1" Visibility="{Binding Form.Visible.Damage, Converter={StaticResource bool2VisibilityConverter}}">
                        <CheckBox Margin="7,4,0,0" Style="{StaticResource checkBoxStat}" IsChecked="{Binding Form.Panel.Damage.Total.Selected}" ToolTip="{ext:Localization Main073_tbTotalDps}"/>
                        <TextBox Margin="5,17,0,0" Style="{StaticResource tbStatMin}" Text="{Binding Form.Panel.Damage.Total.Min, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" IsEnabled="{Binding Form.Panel.Damage.Total.Selected}"/>
                        <TextBox Margin="40,17,0,0" Style="{StaticResource tbStatMax}" Text="{Binding Form.Panel.Damage.Total.Max, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" IsEnabled="{Binding Form.Panel.Damage.Total.Selected}"/>
                    </Grid>

                    <Grid x:Name="panelDpsPhys" HorizontalAlignment="Left" VerticalAlignment="Top" Grid.Row="2" Grid.Column="2" Visibility="{Binding Form.Visible.Damage, Converter={StaticResource bool2VisibilityConverter}}">
                        <CheckBox Margin="7,4,0,0" Style="{StaticResource checkBoxStat}" IsChecked="{Binding Form.Panel.Damage.Physical.Selected}" ToolTip="{ext:Localization Main074_tbPhysDps}"/>
                        <TextBox Margin="5,17,0,0" Style="{StaticResource tbStatMin}" Text="{Binding Form.Panel.Damage.Physical.Min, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" IsEnabled="{Binding Form.Panel.Damage.Physical.Selected}"/>
                        <TextBox Margin="40,17,0,0" Style="{StaticResource tbStatMax}" Text="{Binding Form.Panel.Damage.Physical.Max, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" IsEnabled="{Binding Form.Panel.Damage.Physical.Selected}"/>
                    </Grid>

                    <Grid x:Name="panelDpsElem" HorizontalAlignment="Left" VerticalAlignment="Top" Grid.Row="2" Grid.Column="3" Visibility="{Binding Form.Visible.Damage, Converter={StaticResource bool2VisibilityConverter}}">
                        <CheckBox Margin="7,4,0,0" Style="{StaticResource checkBoxStat}" IsChecked="{Binding Form.Panel.Damage.Elemental.Selected}" ToolTip="{ext:Localization Main075_tbElemDps}"/>
                        <TextBox Margin="5,17,0,0" Style="{StaticResource tbStatMin}" Text="{Binding Form.Panel.Damage.Elemental.Min, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" IsEnabled="{Binding Form.Panel.Damage.Elemental.Selected}"/>
                        <TextBox Margin="40,17,0,0" Style="{StaticResource tbStatMax}" Text="{Binding Form.Panel.Damage.Elemental.Max, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" IsEnabled="{Binding Form.Panel.Damage.Elemental.Selected}"/>
                    </Grid>

                    <!-- Total stats-->
                    <Grid x:Name="panelTotalRes" HorizontalAlignment="Left" VerticalAlignment="Top" Grid.Row="3" Grid.Column="1" Visibility="{Binding Form.Visible.TotalRes, Converter={StaticResource bool2VisibilityConverter}}">
                        <CheckBox Margin="7,4,0,0" Style="{StaticResource checkBoxStat}" IsChecked="{Binding Form.Panel.Total.Resistance.Selected}" ToolTip="{ext:Localization Main076_tbTotalResist}"/>
                        <TextBox Margin="5,17,0,0" Style="{StaticResource tbStatMin}" Text="{Binding Form.Panel.Total.Resistance.Min, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" IsEnabled="{Binding Form.Panel.Total.Resistance.Selected}"/>
                        <TextBox Margin="40,17,0,0" Style="{StaticResource tbStatMax}" Text="{Binding Form.Panel.Total.Resistance.Max, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" IsEnabled="{Binding Form.Panel.Total.Resistance.Selected}"/>
                    </Grid>

                    <Grid x:Name="panelTotalLife" HorizontalAlignment="Left" VerticalAlignment="Top" Grid.Row="3" Grid.Column="2" Visibility="{Binding Form.Visible.TotalLife, Converter={StaticResource bool2VisibilityConverter}}">
                        <CheckBox Margin="7,4,0,0" Style="{StaticResource checkBoxStat}" IsChecked="{Binding Form.Panel.Total.Life.Selected}" ToolTip="{ext:Localization Main077_tbTotalLife}"/>
                        <TextBox Margin="5,17,0,0" Style="{StaticResource tbStatMin}" Text="{Binding Form.Panel.Total.Life.Min, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" IsEnabled="{Binding Form.Panel.Total.Life.Selected}"/>
                        <TextBox Margin="40,17,0,0" Style="{StaticResource tbStatMax}" Text="{Binding Form.Panel.Total.Life.Max, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" IsEnabled="{Binding Form.Panel.Total.Life.Selected}"/>
                    </Grid>

                    <Grid x:Name="panelGlobalEs" HorizontalAlignment="Left" VerticalAlignment="Top" Grid.Row="3" Grid.Column="3" Visibility="{Binding Form.Visible.TotalEs, Converter={StaticResource bool2VisibilityConverter}}">
                        <CheckBox Margin="7,4,0,0" Style="{StaticResource checkBoxStat}" IsChecked="{Binding Form.Panel.Total.GlobalEs.Selected}" ToolTip="{ext:Localization Main078_tbGlobalES}"/>
                        <TextBox Margin="5,17,0,0" Style="{StaticResource tbStatMin}" Text="{Binding Form.Panel.Total.GlobalEs.Min, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" IsEnabled="{Binding Form.Panel.Total.GlobalEs.Selected}"/>
                        <TextBox Margin="40,17,0,0" Style="{StaticResource tbStatMax}" Text="{Binding Form.Panel.Total.GlobalEs.Max, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" IsEnabled="{Binding Form.Panel.Total.GlobalEs.Selected}"/>
                    </Grid>
                </Grid>
            </ScrollViewer>
        </Border>

        <Border x:Name="bdStats" Margin="263,0,0,0" HorizontalAlignment="Left" VerticalAlignment="Top" d:BorderThickness="1" Visibility="{Binding Form.Visible.PanelStat, Converter={StaticResource bool2VisibilityConverter}}">
            <Grid>
                <TextBlock x:Name="tbByBase" FontFamily="{StaticResource LithosProRegular}" FontSize="10" Text="{ext:Localization Main081_tbByBase}" Foreground="{StaticResource ForegroundTextBrush}" TextAlignment="Center" HorizontalAlignment="Left" VerticalAlignment="Top" Width="30" Margin="184,3,0,0" Visibility="{Binding Form.Visible.ByBase, Converter={StaticResource bool2VisibilityConverter}}"/>
                <CheckBox x:Name="cbBase" HorizontalAlignment="Left" VerticalAlignment="Top" Margin="190,18,0,0" Height="12" Width="12" ToolTip="{ext:Localization Main142_cbBaseTip}" Visibility="{Binding Form.Visible.ByBase, Converter={StaticResource bool2VisibilityConverter}}" IsChecked="{Binding Form.ByBase}">
                    <CheckBox.LayoutTransform>
                        <ScaleTransform ScaleX="1.5" ScaleY="1.5" />
                    </CheckBox.LayoutTransform>
                </CheckBox>
                <TextBlock x:Name="tbModSet" FontFamily="{StaticResource LithosProRegular}" FontSize="10" Width="100" Text="{ext:Localization Main180_tbModSet}" Foreground="{StaticResource ForegroundTextBrush}" TextAlignment="Center" HorizontalAlignment="Left" VerticalAlignment="Top" Margin="82,3,0,0" Visibility="{Binding Form.Visible.ModSet, Converter={StaticResource bool2VisibilityConverter}}"/>
                <Button x:Name="btnTierVal" Content="{ext:Localization Main094_lbTier}"  HorizontalAlignment="Left" Height="20" Margin="82,17,0,0" VerticalAlignment="Top" Width="45" Command="{Binding Commands.SetModTierCommand}" FontFamily="{StaticResource LithosProRegular}" ToolTip="{ext:Localization Main181_btnTierValTip}" Visibility="{Binding Form.Visible.ModSet, Converter={StaticResource bool2VisibilityConverter}}"/>
                <Button x:Name="btnPercentVal" Content="{ext:Localization Main224_btnPercentVal}" d:Visibility="Collapsed" HorizontalAlignment="Left" Height="20" Margin="82,17,0,0" VerticalAlignment="Top" Width="45" Command="{Binding Commands.SetModPercentCommand}" FontFamily="{StaticResource LithosProRegular}" ToolTip="{ext:Localization Main225_btnPercentValTip}" Visibility="{Binding Form.Visible.ModPercent, Converter={StaticResource bool2VisibilityConverter}}"/>
                <Button x:Name="btnCurrentVal" Content="{ext:Localization Main183_real}"  HorizontalAlignment="Left" Height="20" Margin="132,17,0,0" VerticalAlignment="Top" Width="50" Command="{Binding Commands.SetModCurrentCommand}" FontFamily="{StaticResource LithosProRegular}" ToolTip="{ext:Localization Main182_btnCurrentValTip}" Visibility="{Binding Form.Visible.ModCurrent, Converter={StaticResource bool2VisibilityConverter}}"/>

                <TextBlock x:Name="lbRarity" Text="{ext:Localization Main083_lbRarity}" Foreground="{StaticResource ForegroundTextBrush}" HorizontalAlignment="Left" Margin="162,47,0,0" VerticalAlignment="Top" Width="78" FontFamily="{StaticResource LithosProRegular}" FontSize="10" TextAlignment="Center" Visibility="{Binding Form.Visible.Rarity, Converter={StaticResource bool2VisibilityConverter}}"/>
                <ComboBox x:Name="cbRarity" HorizontalContentAlignment="Center" HorizontalAlignment="Left" Margin="162,60,0,0" VerticalAlignment="Top" Height="22"   Tag="combobox" FontFamily="{StaticResource FontinSmallCaps}" FontSize="14" Width="78" Visibility="{Binding Form.Visible.Rarity, Converter={StaticResource bool2VisibilityConverter}}" SelectedIndex="{Binding Form.Rarity.Index, Mode=TwoWay}" ItemsSource="{Binding Form.Rarity.ComboBox}" d:ItemsSource="{d:SampleData}" d:SelectedIndex="1" d:Foreground="Gold">
                    <ComboBox.Style>
                        <Style TargetType="{x:Type ComboBox}" BasedOn="{StaticResource {x:Type ComboBox}}">
                            <Style.Triggers>
                                <DataTrigger Binding="{Binding Form.Rarity.Index}" Value="0">
                                    <Setter Property="Foreground" Value="Gray"/>
                                </DataTrigger>
                                <DataTrigger Binding="{Binding Form.Rarity.Index}" Value="1">
                                    <Setter Property="Foreground" Value="White"/>
                                </DataTrigger>
                                <DataTrigger Binding="{Binding Form.Rarity.Index}" Value="2">
                                    <Setter Property="Foreground" Value="DeepSkyBlue"/>
                                </DataTrigger>
                                <DataTrigger Binding="{Binding Form.Rarity.Index}" Value="3">
                                    <Setter Property="Foreground" Value="Gold"/>
                                </DataTrigger>
                                <DataTrigger Binding="{Binding Form.Rarity.Index}" Value="4">
                                    <Setter Property="Foreground" Value="Peru"/>
                                </DataTrigger>
                                <DataTrigger Binding="{Binding Form.Rarity.Index}" Value="5">
                                    <Setter Property="Foreground" Value="Green"/>
                                </DataTrigger>
                                <DataTrigger Binding="{Binding Form.Rarity.Index}" Value="6">
                                    <Setter Property="Foreground" Value="White"/>
                                </DataTrigger>
                                <Trigger Property="IsDropDownOpen" Value="True">
                                    <Setter Property="Foreground" Value="White"/>
                                </Trigger>
                            </Style.Triggers>
                        </Style>
                    </ComboBox.Style>
                </ComboBox>

                <TextBlock x:Name="lbCorrupted" Text="{ext:Localization Main080_lbCorrupted}" HorizontalAlignment="Left" Margin="81,47,0,0" VerticalAlignment="Top" Width="76" FontFamily="{StaticResource LithosProRegular}" Foreground="{StaticResource ForegroundTextBrush}" FontSize="10" TextAlignment="Center" Visibility="{Binding Form.Visible.Corrupted, Converter={StaticResource bool2VisibilityConverter}}"/>
                <ComboBox x:Name="cbCorrupted" HorizontalContentAlignment="Center" HorizontalAlignment="Left" Margin="86,60,0,0" VerticalAlignment="Top" Width="66" Height="22"   Tag="combobox" FontFamily="{StaticResource FontinSmallCaps}" FontSize="14"
                                              VirtualizingStackPanel.IsVirtualizing="True" VirtualizingStackPanel.VirtualizationMode="Recycling" Visibility="{Binding Form.Visible.Corrupted, Converter={StaticResource bool2VisibilityConverter}}" SelectedIndex="{Binding Form.CorruptedIndex}" ItemsSource="{Binding Form.Corruption}" d:ItemsSource="{d:SampleData}" d:SelectedIndex="1" d:Foreground="OrangeRed">
                    <ComboBox.Resources>
                        <sys:Double x:Key="{x:Static SystemParameters.VerticalScrollBarWidthKey}">0</sys:Double>
                    </ComboBox.Resources>
                    <i:Interaction.Triggers>
                        <i:EventTrigger EventName="DropDownClosed">
                            <i:InvokeCommandAction Command="{Binding Commands.ClearFocusCommand}"/>
                        </i:EventTrigger>
                    </i:Interaction.Triggers>
                    <ComboBox.Style>
                        <Style TargetType="{x:Type ComboBox}" BasedOn="{StaticResource {x:Type ComboBox}}">
                            <Style.Triggers>
                                <Trigger Property="SelectedIndex" Value="0">
                                    <Setter Property="Foreground" Value="Gray"/>
                                </Trigger>
                                <Trigger Property="SelectedIndex" Value="2">
                                    <Setter Property="Foreground" Value="OrangeRed"/>
                                </Trigger>
                                <Trigger Property="IsDropDownOpen" Value="True">
                                    <Setter Property="Foreground" Value="White"/>
                                </Trigger>
                            </Style.Triggers>
                        </Style>
                    </ComboBox.Style>
                </ComboBox>

                <TextBlock x:Name="lbConditions" Text="{ext:Localization Main173_lbConditions}" HorizontalAlignment="Left" VerticalAlignment="Top" Width="80" FontFamily="{StaticResource LithosProRegular}" Foreground="{StaticResource ForegroundTextBrush}" FontSize="10" TextAlignment="Center" Margin="0,3,0,0" Visibility="{Binding Form.Visible.Conditions, Converter={StaticResource bool2VisibilityConverter}}"/>
                <ComboBox x:Name="cbConditions" Height="22" HorizontalAlignment="Left" VerticalAlignment="Top" IsEditable="True" IsReadOnly="True" Focusable="True" IsTextSearchEnabled="False" StaysOpenOnEdit="True" Width="72" Margin="4,16,0,0" SnapsToDevicePixels="True" FontFamily="{StaticResource FontinSmallCaps}" FontSize="14"
                                              ScrollViewer.HorizontalScrollBarVisibility="Auto" ScrollViewer.VerticalScrollBarVisibility="Auto" ScrollViewer.CanContentScroll="True" IsSynchronizedWithCurrentItem="True" HorizontalContentAlignment="Left" VerticalContentAlignment="Center" TextBlock.TextAlignment="Center" Text="{Binding Form.CheckComboCondition.Text}" ToolTip="{Binding Form.CheckComboCondition.ToolTip}"
                                              VirtualizingStackPanel.IsVirtualizing="True" VirtualizingStackPanel.VirtualizationMode="Recycling" Visibility="{Binding Form.Visible.Conditions, Converter={StaticResource bool2VisibilityConverter}}">
                    <ComboBox.Resources>
                        <sys:Double x:Key="{x:Static SystemParameters.VerticalScrollBarWidthKey}">0</sys:Double>
                        <!--<SolidColorBrush x:Key="TextBox.Static.Background" Color="White"/>-->
                    </ComboBox.Resources>
                    <i:Interaction.Triggers>
                        <i:EventTrigger EventName="DropDownClosed">
                            <i:InvokeCommandAction Command="{Binding Commands.ClearFocusCommand}"/>
                        </i:EventTrigger>
                    </i:Interaction.Triggers>
                    <ComboBox.Style>
                        <Style TargetType="{x:Type ComboBox}" BasedOn="{StaticResource {x:Type ComboBox}}">
                            <Style.Triggers>
                                <MultiDataTrigger>
                                    <MultiDataTrigger.Conditions>
                                        <Condition Binding="{Binding Form.Condition.FreePrefix}" Value="False"/>
                                        <Condition Binding="{Binding Form.Condition.FreeSuffix}" Value="False"/>
                                        <Condition Binding="{Binding Form.Condition.SocketColors}" Value="False"/>
                                    </MultiDataTrigger.Conditions>
                                    <Setter Property="Foreground" Value="Gray"/>
                                </MultiDataTrigger>
                                <Trigger Property="IsKeyboardFocusWithin" Value="True">
                                    <Setter Property="IsDropDownOpen" Value="True"/>
                                </Trigger>
                                <Trigger Property="IsDropDownOpen" Value="True">
                                    <Setter Property="Foreground" Value="White"/>
                                </Trigger>
                            </Style.Triggers>
                        </Style>
                    </ComboBox.Style>
                    <!--
                                        <ComboBox.Style>
                                            <Style TargetType="{x:Type ComboBox}" BasedOn="{StaticResource {x:Type ComboBox}}">
                                                <Setter Property="Foreground" Value="White"/>
                                                <Style.Triggers>
                                                    <DataTrigger Binding="{Binding Text}" Value="{ext:Localization Main036_None}">
                                                        <Setter Property="Foreground" Value="DarkGray"/>
                                                    </DataTrigger>
                                                </Style.Triggers>
                                            </Style>
                                        </ComboBox.Style>
                                        -->
                    <ComboBoxItem>
                        <ComboBoxItem.Content>
                            <ToggleButton Height="22" Width="72" Margin="-5,-2,-6,-2" Padding="3,0,0,0" Background="Transparent" BorderBrush="Transparent" HorizontalContentAlignment="Stretch" VerticalContentAlignment="Stretch" >
                                <CheckBox Height="22" x:Name="cbFreePrefix" Margin="0,3,0,0" Padding="0,-2,0,-2" Command="{Binding Commands.CheckConditionCommand}" HorizontalContentAlignment="Left" HorizontalAlignment="Left" VerticalAlignment="Center" VerticalContentAlignment="Center"
                                                              d:ToolTip="{ext:Localization Main175_cbFreePrefixTip}" ToolTip="{Binding Form.Condition.FreePrefixToolTip}" IsChecked="{Binding Form.Condition.FreePrefix}">
                                    <CheckBox.LayoutTransform>
                                        <ScaleTransform ScaleX="0.8" ScaleY="0.8" />
                                    </CheckBox.LayoutTransform>
                                    <TextBlock Padding="3,0,0,6" FontFamily="{StaticResource FontinSmallCaps}" Foreground="White" VerticalAlignment="Top" Width="72" TextAlignment="Left" d:Text="{ext:Localization Main174_cbFreePrefix}" Text="{Binding Form.Condition.FreePrefixText}" />
                                </CheckBox>
                            </ToggleButton>
                        </ComboBoxItem.Content>
                    </ComboBoxItem>
                    <ComboBoxItem>
                        <ComboBoxItem.Content>
                            <ToggleButton Height="22" Width="72" Margin="-5,-2,-6,-2" Padding="3,0,0,0" Background="Transparent" BorderBrush="Transparent" HorizontalContentAlignment="Stretch" VerticalContentAlignment="Stretch">
                                <CheckBox Height="22" x:Name="cbFreeSuffix"  Margin="0,3,0,0" Padding="0,-2,0,-2" Command="{Binding Commands.CheckConditionCommand}" HorizontalContentAlignment="Left" HorizontalAlignment="Left" VerticalAlignment="Center" VerticalContentAlignment="Center"
                                                              d:ToolTip="{ext:Localization Main177_cbFreeSuffixTip}" ToolTip="{Binding Form.Condition.FreeSuffixToolTip}" IsChecked="{Binding Form.Condition.FreeSuffix}">
                                    <CheckBox.LayoutTransform>
                                        <ScaleTransform ScaleX="0.8" ScaleY="0.8" />
                                    </CheckBox.LayoutTransform>
                                    <TextBlock Padding="3,0,0,6" FontFamily="{StaticResource FontinSmallCaps}" Foreground="White" VerticalAlignment="Top" Width="72" TextAlignment="Left" d:Text="{ext:Localization Main176_cbFreeSuffix}" Text="{Binding Form.Condition.FreeSuffixText}"/>
                                </CheckBox>
                            </ToggleButton>
                        </ComboBoxItem.Content>
                    </ComboBoxItem>
                    <ComboBoxItem>
                        <ComboBoxItem.Content>
                            <ToggleButton Height="22" Width="72" Margin="-5,-2,-6,-2" Padding="3,0,0,0" Background="Transparent" BorderBrush="Transparent" HorizontalContentAlignment="Stretch" VerticalContentAlignment="Stretch">
                                <CheckBox Height="22" x:Name="cbSocketColors"  Margin="0,3,0,0" Padding="0,-2,0,-2" Command="{Binding Commands.CheckConditionCommand}" HorizontalContentAlignment="Left" HorizontalAlignment="Left" VerticalAlignment="Center" VerticalContentAlignment="Center"
                                                              d:ToolTip="{ext:Localization Main210_cbSocketColorsTip}" ToolTip="{Binding Form.Condition.SocketColorsToolTip}" IsChecked="{Binding Form.Condition.SocketColors}">
                                    <CheckBox.LayoutTransform>
                                        <ScaleTransform ScaleX="0.8" ScaleY="0.8" />
                                    </CheckBox.LayoutTransform>
                                    <TextBlock Padding="3,0,0,6" FontFamily="{StaticResource FontinSmallCaps}" Foreground="White" VerticalAlignment="Top" Width="72" TextAlignment="Left" d:Text="{ext:Localization Main209_cbSocketColors}" Text="{Binding Form.Condition.SocketColorsText}"/>
                                </CheckBox>
                            </ToggleButton>
                        </ComboBoxItem.Content>
                    </ComboBoxItem>
                </ComboBox>

                <TextBlock x:Name="lbReward" Text="{ext:Localization General071_Reward}" HorizontalAlignment="Left" VerticalAlignment="Top" Width="206" FontFamily="{StaticResource LithosProRegular}" Foreground="{StaticResource ForegroundTextBrush}" FontSize="10" TextAlignment="Center" Margin="10,0,0,0" Height="22" d:Opacity="0" d:Panel.ZIndex="-1" Visibility="{Binding Form.Visible.Reward, Converter={StaticResource bool2VisibilityConverter}}" ToolTip="{Binding Form.Panel.Reward.Tip}"/>
                <TextBox x:Name="tbReward" HorizontalAlignment="Left" Height="22" Margin="11,16,0,0" HorizontalContentAlignment="Center" d:Text="" VerticalAlignment="Top" Width="199" IsReadOnly="True" FontFamily="{StaticResource FontinSmallCaps}" FontSize="12"  d:Opacity="0" d:Panel.ZIndex="-1" Visibility="{Binding Form.Visible.Reward, Converter={StaticResource bool2VisibilityConverter}}" Text="{Binding Form.Panel.Reward.Text}">
                    <TextBox.Style>
                        <Style TargetType="{x:Type TextBox}" BasedOn="{StaticResource {x:Type TextBox}}">
                            <Setter Property="Foreground" Value="White"/>
                            <Style.Triggers>
                                <DataTrigger Binding="{Binding Form.Panel.Reward.FgColor}" Value="Gold">
                                    <Setter Property="Foreground" Value="Gold"/>
                                </DataTrigger>
                                <DataTrigger Binding="{Binding Form.Panel.Reward.FgColor}" Value="Peru">
                                    <Setter Property="Foreground" Value="Peru"/>
                                </DataTrigger>
                                <DataTrigger Binding="{Binding Form.Panel.Reward.FgColor}" Value="DeepSkyBlue">
                                    <Setter Property="Foreground" Value="DeepSkyBlue"/>
                                </DataTrigger>
                            </Style.Triggers>
                        </Style>
                    </TextBox.Style>
                </TextBox>

                <TextBlock x:Name="lbInfluence" Text="{ext:Localization Main079_lbInfluence}" HorizontalAlignment="Left" VerticalAlignment="Top" Width="80" FontFamily="{StaticResource LithosProRegular}" Foreground="{StaticResource ForegroundTextBrush}" FontSize="10" TextAlignment="Center" Margin="0,47,0,0" Visibility="{Binding Form.Visible.Influences, Converter={StaticResource bool2VisibilityConverter}}"/>
                <ComboBox x:Name="cbInfluence" Height="22" HorizontalAlignment="Left" VerticalAlignment="Top" IsEditable="True" IsReadOnly="True" Focusable="True" IsTextSearchEnabled="False" StaysOpenOnEdit="True" Width="72" Margin="4,60,0,0" SnapsToDevicePixels="True" FontFamily="{StaticResource FontinSmallCaps}" FontSize="14"
                                              ScrollViewer.HorizontalScrollBarVisibility="Auto" ScrollViewer.VerticalScrollBarVisibility="Auto" ScrollViewer.CanContentScroll="True" IsSynchronizedWithCurrentItem="True" HorizontalContentAlignment="Left" VerticalContentAlignment="Center" TextBlock.TextAlignment="Center" Text="{Binding Form.CheckComboInfluence.Text}" ToolTip="{Binding Form.CheckComboInfluence.ToolTip}"
                                              VirtualizingStackPanel.IsVirtualizing="True" VirtualizingStackPanel.VirtualizationMode="Recycling" Visibility="{Binding Form.Visible.Influences, Converter={StaticResource bool2VisibilityConverter}}">
                    <ComboBox.Resources>
                        <sys:Double x:Key="{x:Static SystemParameters.VerticalScrollBarWidthKey}">0</sys:Double>
                        <!--<SolidColorBrush x:Key="TextBox.Static.Background" Color="White"/>-->
                    </ComboBox.Resources>
                    <i:Interaction.Triggers>
                        <i:EventTrigger EventName="DropDownClosed">
                            <i:InvokeCommandAction Command="{Binding Commands.ClearFocusCommand}"/>
                        </i:EventTrigger>
                    </i:Interaction.Triggers>
                    <ComboBox.Style>
                        <Style TargetType="{x:Type ComboBox}" BasedOn="{StaticResource {x:Type ComboBox}}">
                            <Style.Triggers>
                                <MultiDataTrigger>
                                    <MultiDataTrigger.Conditions>
                                        <Condition Binding="{Binding Form.Influence.Shaper}" Value="False"/>
                                        <Condition Binding="{Binding Form.Influence.Elder}" Value="False"/>
                                        <Condition Binding="{Binding Form.Influence.Crusader}" Value="False"/>
                                        <Condition Binding="{Binding Form.Influence.Redeemer}" Value="False"/>
                                        <Condition Binding="{Binding Form.Influence.Hunter}" Value="False"/>
                                        <Condition Binding="{Binding Form.Influence.Warlord}" Value="False"/>
                                    </MultiDataTrigger.Conditions>
                                    <Setter Property="Foreground" Value="Gray"/>
                                </MultiDataTrigger>
                                <Trigger Property="IsKeyboardFocusWithin" Value="True">
                                    <Setter Property="IsDropDownOpen" Value="True"/>
                                </Trigger>
                                <Trigger Property="IsDropDownOpen" Value="True">
                                    <Setter Property="Foreground" Value="White"/>
                                </Trigger>
                            </Style.Triggers>
                        </Style>
                    </ComboBox.Style>
                    <!--
                                        <ComboBox.Style>
                                            <Style TargetType="{x:Type ComboBox}" BasedOn="{StaticResource {x:Type ComboBox}}">
                                                <Style.Triggers>
                                                    <Trigger Property="IsMouseOver" Value="True">
                                                        <Setter Property="IsDropDownOpen" Value="True"/>
                                                    </Trigger>
                                                </Style.Triggers>
                                            </Style>
                                        </ComboBox.Style>
                                        -->
                    <ComboBoxItem>
                        <ComboBoxItem.Content>
                            <ToggleButton Height="22" Width="72" Margin="-5,-2,-6,-2" Padding="3,0,0,0" Background="Transparent" BorderBrush="Transparent" HorizontalContentAlignment="Stretch" VerticalContentAlignment="Stretch">
                                <CheckBox Height="22" x:Name="cbShaper" Margin="0,3,0,0" Padding="0,-2,0,-2" Command="{Binding Commands.CheckInfluenceCommand}" HorizontalContentAlignment="Left" HorizontalAlignment="Left" VerticalAlignment="Center" VerticalContentAlignment="Center" IsChecked="{Binding Form.Influence.Shaper}">
                                    <CheckBox.LayoutTransform>
                                        <ScaleTransform ScaleX="0.8" ScaleY="0.8" />
                                    </CheckBox.LayoutTransform>
                                    <TextBlock Padding="3,0,0,6" FontFamily="{StaticResource FontinSmallCaps}" Foreground="White" VerticalAlignment="Top" Width="72" TextAlignment="Left" d:Text="{ext:Localization Main037_Shaper}" Text="{Binding Form.Influence.ShaperText}"/>
                                </CheckBox>
                            </ToggleButton>
                        </ComboBoxItem.Content>
                    </ComboBoxItem>
                    <ComboBoxItem>
                        <ComboBoxItem.Content>
                            <ToggleButton Height="22" Width="72" Margin="-5,-2,-6,-2" Padding="3,0,0,0" Background="Transparent" BorderBrush="Transparent" HorizontalContentAlignment="Stretch" VerticalContentAlignment="Stretch">
                                <CheckBox Height="22" x:Name="cbElder"  Margin="0,3,0,0" Padding="0,-2,0,-2" Command="{Binding Commands.CheckInfluenceCommand}" HorizontalContentAlignment="Left" HorizontalAlignment="Left" VerticalAlignment="Center" VerticalContentAlignment="Center" IsChecked="{Binding Form.Influence.Elder}">
                                    <CheckBox.LayoutTransform>
                                        <ScaleTransform ScaleX="0.8" ScaleY="0.8" />
                                    </CheckBox.LayoutTransform>
                                    <TextBlock Padding="3,0,0,6" FontFamily="{StaticResource FontinSmallCaps}" Foreground="White" VerticalAlignment="Top" Width="72" TextAlignment="Left" d:Text="{ext:Localization Main038_Elder}" Text="{Binding Form.Influence.ElderText}"/>
                                </CheckBox>
                            </ToggleButton>
                        </ComboBoxItem.Content>
                    </ComboBoxItem>
                    <ComboBoxItem>
                        <ComboBoxItem.Content>
                            <ToggleButton Height="22" Width="72" Margin="-5,-2,-6,-2" Padding="3,0,0,0" Background="Transparent" BorderBrush="Transparent" HorizontalContentAlignment="Stretch" VerticalContentAlignment="Stretch">
                                <CheckBox Height="22" x:Name="cbCrusader"  Margin="0,3,0,0" Padding="0,-2,0,-2" Command="{Binding Commands.CheckInfluenceCommand}" HorizontalContentAlignment="Left" HorizontalAlignment="Left" VerticalAlignment="Center" VerticalContentAlignment="Center" IsChecked="{Binding Form.Influence.Crusader}">
                                    <CheckBox.LayoutTransform>
                                        <ScaleTransform ScaleX="0.8" ScaleY="0.8" />
                                    </CheckBox.LayoutTransform>
                                    <TextBlock Padding="3,0,0,6" FontFamily="{StaticResource FontinSmallCaps}" Foreground="White" VerticalAlignment="Top" Width="72" TextAlignment="Left" d:Text="{ext:Localization Main039_Crusader}" Text="{Binding Form.Influence.CrusaderText}"/>
                                </CheckBox>
                            </ToggleButton>
                        </ComboBoxItem.Content>
                    </ComboBoxItem>
                    <ComboBoxItem>
                        <ComboBoxItem.Content>
                            <ToggleButton Height="22" Width="72" Margin="-5,-2,-6,-2" Padding="3,0,0,0" Background="Transparent" BorderBrush="Transparent" HorizontalContentAlignment="Stretch" VerticalContentAlignment="Stretch">
                                <CheckBox Height="22" x:Name="cbRedeemer"  Margin="0,3,0,0" Padding="0,-2,0,-2" Command="{Binding Commands.CheckInfluenceCommand}" HorizontalContentAlignment="Left" HorizontalAlignment="Left" VerticalAlignment="Center" VerticalContentAlignment="Center" IsChecked="{Binding Form.Influence.Redeemer}">
                                    <CheckBox.LayoutTransform>
                                        <ScaleTransform ScaleX="0.8" ScaleY="0.8" />
                                    </CheckBox.LayoutTransform>
                                    <TextBlock Padding="3,0,0,6" FontFamily="{StaticResource FontinSmallCaps}" Foreground="White" VerticalAlignment="Top" Width="72" TextAlignment="Left" d:Text="{ext:Localization Main040_Redeemer}" Text="{Binding Form.Influence.RedeemerText}"/>
                                </CheckBox>
                            </ToggleButton>
                        </ComboBoxItem.Content>
                    </ComboBoxItem>
                    <ComboBoxItem>
                        <ComboBoxItem.Content>
                            <ToggleButton Height="22" Width="72" Margin="-5,-2,-6,-2" Padding="3,0,0,0" Background="Transparent" BorderBrush="Transparent" HorizontalContentAlignment="Stretch" VerticalContentAlignment="Stretch">
                                <CheckBox Height="22" x:Name="cbHunter" Margin="0,3,0,0" Padding="0,-2,0,-2" Command="{Binding Commands.CheckInfluenceCommand}" HorizontalContentAlignment="Left" HorizontalAlignment="Left" VerticalAlignment="Center" VerticalContentAlignment="Center" IsChecked="{Binding Form.Influence.Hunter}">
                                    <CheckBox.LayoutTransform>
                                        <ScaleTransform ScaleX="0.8" ScaleY="0.8" />
                                    </CheckBox.LayoutTransform>
                                    <TextBlock Padding="3,0,0,6" FontFamily="{StaticResource FontinSmallCaps}" Foreground="White" VerticalAlignment="Top" Width="72" TextAlignment="Left" d:Text="{ext:Localization Main041_Hunter}" Text="{Binding Form.Influence.HunterText}"/>
                                </CheckBox>
                            </ToggleButton>
                        </ComboBoxItem.Content>
                    </ComboBoxItem>
                    <ComboBoxItem>
                        <ComboBoxItem.Content>
                            <ToggleButton Height="22" Margin="-5,-2,-6,-2" Padding="3,0,0,0" Background="Transparent" BorderBrush="Transparent" HorizontalContentAlignment="Stretch" VerticalContentAlignment="Stretch">
                                <CheckBox Height="22" x:Name="cbWarlord"  Margin="0,3,0,0" Padding="0,-2,0,-2" Command="{Binding Commands.CheckInfluenceCommand}" HorizontalContentAlignment="Left" HorizontalAlignment="Left" VerticalAlignment="Center" VerticalContentAlignment="Center" IsChecked="{Binding Form.Influence.Warlord}">
                                    <CheckBox.LayoutTransform>
                                        <ScaleTransform ScaleX="0.8" ScaleY="0.8" />
                                    </CheckBox.LayoutTransform>
                                    <TextBlock Padding="3,0,0,6" FontFamily="{StaticResource FontinSmallCaps}" Foreground="White" VerticalAlignment="Top" Width="72" TextAlignment="Left" d:Text="{ext:Localization Main042_Warlord}" Text="{Binding Form.Influence.WarlordText}"/>
                                </CheckBox>
                            </ToggleButton>
                        </ComboBoxItem.Content>
                    </ComboBoxItem>
                </ComboBox>

                <TextBlock x:Name="lbCheckAll" Text="{ext:Localization Main082_lbCheckAll}" TextAlignment="Center" FontFamily="{StaticResource LithosProRegular}" Foreground="{StaticResource ForegroundTextBrush}" FontSize="10" HorizontalAlignment="Left" VerticalAlignment="Top" Margin="216,3,0,0" Width="26" Visibility="{Binding Form.Visible.CheckAll, Converter={StaticResource bool2VisibilityConverter}}"/>
                <CheckBox x:Name="cbAllCheck" HorizontalAlignment="Left" Margin="220,18,0,0" VerticalAlignment="Top" Command="{Binding Commands.CheckAllModsCommand}" Width="12" Height="12" ToolTip="{ext:Localization Main144_cbAllCheckTip}" Visibility="{Binding Form.Visible.CheckAll, Converter={StaticResource bool2VisibilityConverter}}" IsChecked="{Binding Form.AllCheck}">
                    <CheckBox.LayoutTransform>
                        <ScaleTransform ScaleX="1.5" ScaleY="1.5" />
                    </CheckBox.LayoutTransform>
                </CheckBox>
                <!--
                                    <Label x:Name="lbSliderMin" Content="100%" HorizontalAlignment="Left" Margin="129,-1,0,0" VerticalAlignment="Top" Width="42" FontFamily="Arial" Foreground="{StaticResource ForegroundTextBrush}" FontSize="10" HorizontalContentAlignment="Center" Visibility="Hidden"/>
                                    <Slider x:Name="sliderMinMods" HorizontalAlignment="Left" Margin="130,18,0,0" VerticalAlignment="Top" Width="40" Minimum="80" Maximum="120" Value="100" ValueChanged="SliderMinMods_ValueChanged" Ticks="80,85,90,95,100,105,110,115,120" TickFrequency="5" IsSnapToTickEnabled="True" Height="24" MouseDoubleClick="SliderMinMods_MouseDoubleClick" ToolTip="{ext:Localization Main143_sliderModsTip}" Visibility="Hidden">
                                        <Slider.Resources>
                                            <SolidColorBrush x:Key="{x:Static SystemColors.HighlightBrushKey}" Color="Black" />
                                            <SolidColorBrush x:Key="{x:Static SystemColors.ControlDarkDarkBrushKey}" Color="Silver" />

                                        </Slider.Resources>
                                    </Slider>
                                    <Label x:Name="lbSliderMax" Content="100%" HorizontalAlignment="Left" Margin="171,-1,0,0" VerticalAlignment="Top" Width="42" FontFamily="Arial" Foreground="{StaticResource ForegroundTextBrush}" FontSize="10" HorizontalContentAlignment="Center" Visibility="Hidden"/>
                                    <Slider x:Name="sliderMaxMods" HorizontalAlignment="Left" VerticalAlignment="Top" Margin="172,18,0,0" Width="40" Minimum="80" Maximum="120" Value="100" ValueChanged="SliderMaxMods_ValueChanged" Ticks="80,85,90,95,100,105,110,115,120" TickFrequency="5" IsSnapToTickEnabled="True" Height="24" MouseDoubleClick="SliderMaxMods_MouseDoubleClick" ToolTip="{ext:Localization Main143_sliderModsTip}" Visibility="Hidden"/>
                                    -->
            </Grid>
        </Border>
    </Grid>
</UserControl>
